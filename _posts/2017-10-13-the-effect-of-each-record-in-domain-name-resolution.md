---
layout: post
title: "域名解析中各记录的作用"
date: "2017-10-13"
description: "域名解析中各记录的作用"
tag: [network, dns]
---

域名解析就是把域名指向网站所在服务器的IP, 域名的解析工作由DNS服务器完成。域名解析时会添加解析记录, 这些记录通常有：A记录、AAAA记录、CNAME记录、MX记录、NS记录、TXT记录等等。

### 域名解析记录
- A记录: 将域名指向一个 IPv4 地址
- CNAME记录: 将域名指向一个域名，实现与被指向域名相同的访问效果
- NS记录: 域名解析服务器记录, 将域名指定某个域名服务器来解析
- MX记录:建立电子邮箱服务, 将指向邮件服务器地址
- TXT记录: 这种记录可用于任意用途, 其值可以是任意值或空。一般做一些验证记录时会使用此项, 如：做 SPF (反垃圾邮件) 记录
- AAAA记录: 将域名指向一个IPv6地址
- SRV记录: 记录哪台计算机提供哪个服务, 格式为: 服务的名字.协议的类型(例如: `_example-server._tcp`)
- SOA记录: 起始授权机构记录，NS用于标识多台域名解析服务器，SOA记录用于在众多NS记录中那一台是主服务器
- PTR记录： PTR记录是A记录的逆向记录, 又称做IP反查记录或指针记录, 负责将IP反向解析为域名
- 显性URL转发记录: 将域名指向一个http(s)协议地址, 访问域名时自动跳转至目标地址, 会在地址栏显示真实目标地址。
- 隐性URL转发记录: 将域名指向一个http(s)协议地址，访问域名时自动跳转至目标地址, 隐性转发会隐藏真实的目标地址

### TTL值
TTL－生存时间(Time To Live), 表示解析记录在DNS服务器中的缓存时间, 网域的每条DNS记录(如MX记录、CNAME记录等)都有一个TTL值。一条记录的当前TTL决定了现在所做的任何更改需要多久才会生效。一般建议将TTL值设置为3600秒;如果需要更改后快速生效,则可以设置更短的TTL值,如300秒。

### DNS配置示例  

|主机记录|记录类型|记录值|优先级|TTL|
|--|--|--|--|--|
|@|A|192.30.252.153|-|3600|
|@|A|192.30.252.154|-|3600|
|www|CNAME|loupipalien.github.io|-|3600|
|mail|CNAME|ghs.googlehosted.com.|-|3600|
|@|MX|ASPMX.L.GOOGLE.COM.|-|3600|
|@|TXT|google-site-verification|-|300|    

>**参考:**  
[DNS基础知识](https://support.google.com/a/answer/48090)  
[DNS域名解析中各项记录的作用](https://itbilu.com/other/relate/EyxzdVl3.html)  
